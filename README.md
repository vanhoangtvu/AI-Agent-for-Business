# ğŸ¤– AI Agent for Business

<div align="center">

**Há»‡ thá»‘ng Trá»£ lÃ½ AI thÃ´ng minh cho doanh nghiá»‡p - Káº¿t há»£p RAG vÃ  MCP Framework**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.x-green.svg)](https://spring.io/projects/spring-boot)
[![Next.js](https://img.shields.io/badge/Next.js-14.x-black.svg)](https://nextjs.org/)
[![AI Powered](https://img.shields.io/badge/AI-Gemini%20API-purple.svg)](https://ai.google.dev/)

</div>

---

## ğŸ“‹ Má»¥c lá»¥c

- [Giá»›i thiá»‡u](#-giá»›i-thiá»‡u)
- [TÃ­nh nÄƒng chÃ­nh](#-tÃ­nh-nÄƒng-chÃ­nh)
- [Kiáº¿n trÃºc há»‡ thá»‘ng](#-kiáº¿n-trÃºc-há»‡-thá»‘ng)
- [CÃ´ng nghá»‡ sá»­ dá»¥ng](#-cÃ´ng-nghá»‡-sá»­-dá»¥ng)
- [RAG & MCP Framework](#-rag--mcp-framework)
- [CÃ i Ä‘áº·t](#-cÃ i-Ä‘áº·t)
- [Sá»­ dá»¥ng](#-sá»­-dá»¥ng)
- [API Documentation](#-api-documentation)
- [Roadmap](#-roadmap)
- [ÄÃ³ng gÃ³p](#-Ä‘Ã³ng-gÃ³p)
- [License](#-license)
- [LiÃªn há»‡](#-liÃªn-há»‡)

---

## ğŸ¯ Giá»›i thiá»‡u

**AI Agent for Business** lÃ  má»™t há»‡ thá»‘ng trá»£ lÃ½ AI toÃ n diá»‡n Ä‘Æ°á»£c thiáº¿t káº¿ dÃ nh riÃªng cho doanh nghiá»‡p vá»«a vÃ  nhá» táº¡i Viá»‡t Nam. Dá»± Ã¡n sá»­ dá»¥ng cÃ´ng nghá»‡ **RAG (Retrieval-Augmented Generation)** káº¿t há»£p vá»›i **LLM (Large Language Model)**, Ä‘Æ°á»£c tá»• chá»©c theo framework **MCP (Model â€“ Context â€“ Process)** Ä‘á»ƒ phÃ¢n tÃ­ch vÃ  thiáº¿t káº¿ há»‡ thá»‘ng má»™t cÃ¡ch rÃµ rÃ ng, mang Ä‘áº¿n giáº£i phÃ¡p tá»± Ä‘á»™ng hÃ³a chÄƒm sÃ³c khÃ¡ch hÃ ng, quáº£n lÃ½ dá»¯ liá»‡u bÃ¡n hÃ ng vÃ  phÃ¢n tÃ­ch chiáº¿n lÆ°á»£c kinh doanh thÃ´ng minh.

### ğŸ¯ Má»¥c tiÃªu

- **Tá»± Ä‘á»™ng hÃ³a CSKH**: Chatbot AI tráº£ lá»i khÃ¡ch hÃ ng 24/7 trÃªn nhiá»u kÃªnh
- **Äa kÃªnh linh hoáº¡t**: Website Widget + Zalo OA + Zalo Personal
- **Quáº£n lÃ½ hiá»‡u quáº£**: Há»‡ thá»‘ng CRM mini quáº£n lÃ½ khÃ¡ch hÃ ng, sáº£n pháº©m, Ä‘Æ¡n hÃ ng
- **PhÃ¢n tÃ­ch thÃ´ng minh**: AI phÃ¢n tÃ­ch dá»¯ liá»‡u vÃ  Ä‘á» xuáº¥t chiáº¿n lÆ°á»£c kinh doanh
- **Äá»™ chÃ­nh xÃ¡c cao**: RAG giÃºp AI tráº£ lá»i dá»±a trÃªn tÃ i liá»‡u ná»™i bá»™ thá»±c táº¿
- **Linh hoáº¡t kiá»ƒm soÃ¡t**: 3 cháº¿ Ä‘á»™ AI (Tá»± Ä‘á»™ng / Gá»£i Ã½ / ThÃ´ng bÃ¡o)

### ğŸ’¡ GiÃ¡ trá»‹ cá»‘t lÃµi

- âœ… **Tiáº¿t kiá»‡m chi phÃ­**: Giáº£m 70% chi phÃ­ nhÃ¢n sá»± CSKH
- âœ… **TÄƒng hiá»‡u suáº¥t**: Xá»­ lÃ½ hÃ ng trÄƒm yÃªu cáº§u Ä‘á»“ng thá»i
- âœ… **ChÃ­nh xÃ¡c**: Tráº£ lá»i dá»±a trÃªn dá»¯ liá»‡u tháº­t tá»« doanh nghiá»‡p
- âœ… **ThÃ´ng minh**: AI há»c há»i vÃ  cáº£i thiá»‡n liÃªn tá»¥c
- âœ… **Linh hoáº¡t**: DÃ¹ng Zalo cÃ¡ nhÃ¢n hoáº·c OA, khÃ´ng báº¯t buá»™c
- âœ… **Kiá»ƒm soÃ¡t**: 3 cháº¿ Ä‘á»™ AI phÃ¹ há»£p má»i tÃ¬nh huá»‘ng

---

## ğŸš€ TÃ­nh nÄƒng chÃ­nh

### 1. ğŸ’¬ Chatbot tÆ° váº¥n khÃ¡ch hÃ ng Ä‘a kÃªnh

<table>
<tr>
<td width="50%">

**TÃ­ch há»£p Ä‘a kÃªnh**
- ğŸŒ Website (Chatbot Widget)
- ğŸ’¬ Zalo OA (Official Account)
- ğŸ‘¤ Zalo Personal (TÃ i khoáº£n cÃ¡ nhÃ¢n)
- ğŸ“± TÆ°Æ¡ng tÃ¡c trá»±c tiáº¿p vá»›i khÃ¡ch hÃ ng
- ğŸ”” Gá»­i thÃ´ng bÃ¡o tá»± Ä‘á»™ng
- ğŸ“Š Quáº£n lÃ½ há»™i thoáº¡i táº­p trung

</td>
<td width="50%">

**Chá»©c nÄƒng thÃ´ng minh**
- â“ Tráº£ lá»i FAQ tá»± Ä‘á»™ng
- ğŸ›’ Ghi nháº­n Ä‘Æ¡n hÃ ng tá»« chat
- ğŸ” TÃ¬m kiáº¿m sáº£n pháº©m
- ğŸ“¦ Tra cá»©u Ä‘Æ¡n hÃ ng
- ğŸ¤– AI tráº£ lá»i 24/7

</td>
</tr>
</table>

**VÃ­ dá»¥ há»™i thoáº¡i (Website hoáº·c Zalo OA):**
```
ğŸ“± KÃªnh: Website Widget / Zalo OA

KhÃ¡ch: "Em muá»‘n mua iPhone 15 Pro Max mÃ u xanh"

ğŸ¤– AI Bot: "Dáº¡, em cÃ³ thÃ´ng tin sáº£n pháº©m nhÆ° sau:
     
     ğŸ“± iPhone 15 Pro Max 256GB - Xanh Titan
     ğŸ’° GiÃ¡: 29.990.000Ä‘
     âœ… TÃ¬nh tráº¡ng: CÃ²n hÃ ng (15 sáº£n pháº©m)
     ğŸ Khuyáº¿n mÃ£i: Táº·ng á»‘p lÆ°ng + cÆ°á»ng lá»±c
     
     Anh/chá»‹ cÃ³ muá»‘n Ä‘áº·t hÃ ng khÃ´ng áº¡?"

KhÃ¡ch: "Äáº·t 1 chiáº¿c cho em"

ğŸ¤– AI Bot: "Dáº¡ em ghi nháº­n Ä‘Æ¡n hÃ ng:
     - Sáº£n pháº©m: iPhone 15 Pro Max 256GB
     - Sá»‘ lÆ°á»£ng: 1
     - Tá»•ng tiá»n: 29.990.000Ä‘
     
     Anh/chá»‹ vui lÃ²ng cung cáº¥p:
     ğŸ“ Äá»‹a chá»‰ nháº­n hÃ ng
     ğŸ“ Sá»‘ Ä‘iá»‡n thoáº¡i liÃªn há»‡"
```

**TÃ­nh nÄƒng Ä‘áº·c biá»‡t:**
- ğŸ”„ Äá»“ng bá»™ há»™i thoáº¡i giá»¯a Website vÃ  Zalo
- ğŸ“Š Theo dÃµi táº¥t cáº£ kÃªnh trong 1 Dashboard
- ğŸ¯ AI nháº­n diá»‡n khÃ¡ch hÃ ng qua cáº£ 3 kÃªnh
- ğŸ¤– 3 cháº¿ Ä‘á»™ AI: Tá»± Ä‘á»™ng / Gá»£i Ã½ / Chá»‰ thÃ´ng bÃ¡o

---

## ğŸ¤” So sÃ¡nh: Zalo OA vs Zalo Personal

| TiÃªu chÃ­ | ğŸ’¬ Zalo OA | ğŸ‘¤ Zalo Personal |
|----------|------------|------------------|
| **Chi phÃ­** | Máº¥t phÃ­ Ä‘Äƒng kÃ½ & xÃ¡c minh | Miá»…n phÃ­ (dÃ¹ng tÃ i khoáº£n cÃ³ sáºµn) |
| **Äá»™ tin cáº­y** | Cao (cÃ³ dáº¥u tÃ­ch xanh) | Trung bÃ¬nh (tÃ i khoáº£n cÃ¡ nhÃ¢n) |
| **Giá»›i háº¡n tin nháº¯n** | KhÃ´ng giá»›i háº¡n | CÃ³ thá»ƒ bá»‹ giá»›i háº¡n náº¿u spam |
| **Template Message** | âœ… CÃ³ | âŒ KhÃ´ng |
| **Broadcast** | âœ… CÃ³ | âš ï¸ Háº¡n cháº¿ |
| **API chÃ­nh thá»©c** | âœ… CÃ³ | âŒ KhÃ´ng (unofficial) |
| **Rá»§i ro** | âœ… An toÃ n | âš ï¸ CÃ³ thá»ƒ bá»‹ khÃ³a náº¿u spam |
| **PhÃ¹ há»£p cho** | Doanh nghiá»‡p lá»›n, thÆ°Æ¡ng hiá»‡u | Doanh nghiá»‡p nhá», test, cá»­a hÃ ng online |
| **Setup** | Phá»©c táº¡p (cáº§n xÃ¡c minh) | ÄÆ¡n giáº£n (quÃ©t QR) |
| **AI Mode** | Chá»‰ tá»± Ä‘á»™ng | Tá»± Ä‘á»™ng / Gá»£i Ã½ / ThÃ´ng bÃ¡o |

### ğŸ’¡ Khuyáº¿n nghá»‹:

**DÃ¹ng Zalo Personal khi:**
- âœ… Má»›i báº¯t Ä‘áº§u kinh doanh online
- âœ… ChÆ°a cÃ³ Zalo OA
- âœ… Muá»‘n test trÆ°á»›c khi Ä‘áº§u tÆ°
- âœ… Muá»‘n kiá»ƒm soÃ¡t cÃ¢u tráº£ lá»i AI

**DÃ¹ng Zalo OA khi:**
- âœ… ÄÃ£ cÃ³ thÆ°Æ¡ng hiá»‡u rÃµ rÃ ng
- âœ… Cáº§n gá»­i tin nháº¯n hÃ ng loáº¡t
- âœ… Muá»‘n tÃ­ch há»£p Zalo Pay
- âœ… Cáº§n Ä‘á»™ tin cáº­y cao

**DÃ¹ng cáº£ hai khi:**
- âœ… Muá»‘n tá»‘i Æ°u hiá»‡u quáº£
- âœ… OA cho thÃ´ng bÃ¡o, Personal cho tÆ° váº¥n chi tiáº¿t
- âœ… TÃ¡ch biá»‡t kÃªnh chÄƒm sÃ³c khÃ¡ch hÃ ng

### 2. ğŸ“Š Quáº£n lÃ½ doanh nghiá»‡p (CRM Mini)

#### **Quáº£n lÃ½ khÃ¡ch hÃ ng**
- ğŸ‘¥ Danh sÃ¡ch khÃ¡ch hÃ ng vá»›i phÃ¢n loáº¡i (VIP, thÆ°á»ng, tiá»m nÄƒng)
- ğŸ“ Lá»‹ch sá»­ mua hÃ ng vÃ  tÆ°Æ¡ng tÃ¡c
- ğŸ‚ Nháº¯c nhá»Ÿ sinh nháº­t, chÄƒm sÃ³c Ä‘á»‹nh ká»³
- ğŸ“ ThÃ´ng tin liÃªn há»‡ Ä‘áº§y Ä‘á»§

#### **Quáº£n lÃ½ sáº£n pháº©m**
- ğŸ“¦ Danh má»¥c sáº£n pháº©m Ä‘a cáº¥p
- ğŸ’° Quáº£n lÃ½ giÃ¡, khuyáº¿n mÃ£i
- ğŸ“Š Theo dÃµi tá»“n kho
- ğŸ–¼ï¸ HÃ¬nh áº£nh vÃ  mÃ´ táº£ chi tiáº¿t

#### **Quáº£n lÃ½ Ä‘Æ¡n hÃ ng**
- ğŸ›ï¸ Tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng (chá» xÃ¡c nháº­n, Ä‘ang giao, hoÃ n thÃ nh)
- ğŸ’³ PhÆ°Æ¡ng thá»©c thanh toÃ¡n
- ğŸšš Theo dÃµi váº­n chuyá»ƒn
- ğŸ“§ ThÃ´ng bÃ¡o tá»± Ä‘á»™ng

#### **Thá»‘ng kÃª & BÃ¡o cÃ¡o**
- ğŸ“ˆ Doanh thu theo ngÃ y/thÃ¡ng/quÃ½/nÄƒm
- ğŸ“Š Biá»ƒu Ä‘á»“ sáº£n pháº©m bÃ¡n cháº¡y
- ğŸ‘‘ Top khÃ¡ch hÃ ng VIP
- ğŸ’¹ Tá»· lá»‡ chuyá»ƒn Ä‘á»•i Ä‘Æ¡n hÃ ng
- ğŸ“‰ PhÃ¢n tÃ­ch xu hÆ°á»›ng

### 3. ğŸ§  AI PhÃ¢n tÃ­ch & Äá» xuáº¥t chiáº¿n lÆ°á»£c

#### **PhÃ¢n tÃ­ch hÃ nh vi khÃ¡ch hÃ ng**
- ğŸ” PhÃ¢n tÃ­ch RFM (Recency, Frequency, Monetary)
- ğŸ¯ PhÃ¢n khÃºc khÃ¡ch hÃ ng tá»± Ä‘á»™ng
- ğŸ“Š Dá»± Ä‘oÃ¡n xu hÆ°á»›ng mua sáº¯m
- ğŸ’¡ Gá»£i Ã½ sáº£n pháº©m cÃ¡ nhÃ¢n hÃ³a

#### **Äá» xuáº¥t Marketing**
```
ğŸ“Œ Gá»£i Ã½ tá»« AI:
âœ… KhÃ¡ch hÃ ng trong nhÃ³m "ÄÃ£ lÃ¢u khÃ´ng mua" Ä‘ang tÄƒng 15%
   â†’ Äá» xuáº¥t: Cháº¡y chiáº¿n dá»‹ch email marketing vá»›i mÃ£ giáº£m giÃ¡ 20%

âœ… Sáº£n pháº©m "Tai nghe Bluetooth X" cÃ³ xu hÆ°á»›ng tÄƒng doanh sá»‘
   â†’ Äá» xuáº¥t: TÄƒng tá»“n kho vÃ  cháº¡y chiáº¿n dá»‹ch quáº£ng cÃ¡o qua Zalo Ads

âœ… Thá»i Ä‘iá»ƒm tá»‘t nháº¥t Ä‘Äƒng bÃ i: 20:00 - 22:00 (tá»· lá»‡ tÆ°Æ¡ng tÃ¡c cao nháº¥t)
```

#### **Chiáº¿n lÆ°á»£c kinh doanh**
- ğŸ“… Láº­p káº¿ hoáº¡ch nháº­p hÃ ng dá»±a trÃªn dá»± Ä‘oÃ¡n
- ğŸ Gá»£i Ã½ chÆ°Æ¡ng trÃ¬nh khuyáº¿n mÃ£i
- ğŸ’° Tá»‘i Æ°u hÃ³a giÃ¡ bÃ¡n
- ğŸ“£ Äá» xuáº¥t kÃªnh quáº£ng cÃ¡o hiá»‡u quáº£

### 4. ğŸ“š Quáº£n lÃ½ tÃ i liá»‡u (RAG - Retrieval-Augmented Generation)

#### **Upload & Xá»­ lÃ½ tÃ i liá»‡u**
- ğŸ“„ Há»— trá»£: PDF, DOCX, TXT, CSV, Excel
- ğŸ”„ Tá»± Ä‘á»™ng trÃ­ch xuáº¥t vÃ  vector hÃ³a ná»™i dung
- ğŸ—‚ï¸ PhÃ¢n loáº¡i tÃ i liá»‡u (chÃ­nh sÃ¡ch, hÆ°á»›ng dáº«n, quy trÃ¬nh)
- ğŸ” TÃ¬m kiáº¿m ngá»¯ nghÄ©a thÃ´ng minh

#### **CÃ¡ch hoáº¡t Ä‘á»™ng**
```
1. Doanh nghiá»‡p upload: "ChÃ­nh sÃ¡ch báº£o hÃ nh.pdf"
2. Há»‡ thá»‘ng xá»­ lÃ½: Táº¡o embeddings vÃ  lÆ°u vÃ o vector database
3. KhÃ¡ch há»i: "Sáº£n pháº©m Ä‘Æ°á»£c báº£o hÃ nh bao lÃ¢u?"
4. AI tráº£ lá»i: "Theo chÃ­nh sÃ¡ch cá»§a cÃ´ng ty, sáº£n pháº©m Ä‘Æ°á»£c báº£o hÃ nh 12 thÃ¡ng ká»ƒ tá»« ngÃ y mua..."
   (TrÃ­ch xuáº¥t tá»« tÃ i liá»‡u thá»±c táº¿)
```

#### **Lá»£i Ã­ch**
- âœ… Äá»™ chÃ­nh xÃ¡c cao, tráº£ lá»i dá»±a trÃªn tÃ i liá»‡u thá»±c táº¿ cá»§a doanh nghiá»‡p
- âœ… Giáº£m thiá»ƒu tá»‘i Ä‘a viá»‡c bá»‹a Ä‘áº·t thÃ´ng tin (hallucination)
- âœ… Dá»… dÃ ng cáº­p nháº­t khi doanh nghiá»‡p thay Ä‘á»•i chÃ­nh sÃ¡ch

---

## ğŸ—ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER INTERFACES                           â”‚
â”‚ [Dashboard] [Widget] [Zalo OA] [Zalo Personal] [Admin]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FRONTEND LAYER                             â”‚
â”‚  Next.js 14 (App Router) - SSR/SSG & State Management        â”‚
â”‚  â€¢ Dashboard UI  â€¢ Chat Interface  â€¢ Analytics Charts        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ REST API / WebSocket
              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API GATEWAY                                â”‚
â”‚  â€¢ Authentication (JWT)  â€¢ Rate Limiting  â€¢ Load Balancing   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND LAYER                              â”‚
â”‚  Spring Boot - Business Logic & Services                     â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ¤– AI Agent Core                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Chatbot     â”‚  â”‚  RAG Engine  â”‚  â”‚ Analytics â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Service     â”‚  â”‚  Service     â”‚  â”‚  Service  â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ’¼ Business Services                                â”‚   â”‚
â”‚  â”‚  â€¢ Customer Service  â€¢ Product Service               â”‚   â”‚
â”‚  â”‚  â€¢ Order Service     â€¢ Report Service                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚             â”‚             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   MySQL DB    â”‚ â”‚ Vector   â”‚  â”‚  Google Gemini   â”‚
    â”‚               â”‚ â”‚ Database â”‚  â”‚      API         â”‚
    â”‚ â€¢ Customers   â”‚ â”‚ (pgvectorâ”‚  â”‚                  â”‚
    â”‚ â€¢ Products    â”‚ â”‚  or      â”‚  â”‚ â€¢ LLM Model      â”‚
    â”‚ â€¢ Orders      â”‚ â”‚ Pinecone)â”‚  â”‚ â€¢ Embeddings     â”‚
    â”‚ â€¢ Analytics   â”‚ â”‚          â”‚  â”‚ â€¢ AI Analysis    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚             â”‚             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           EXTERNAL INTEGRATIONS                  â”‚
    â”‚       â€¢ Zalo OA API  â€¢ Payment Gateway           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ Luá»“ng xá»­ lÃ½ chÃ­nh

#### **1. Luá»“ng Chat vá»›i RAG (Äa kÃªnh)**
```
KhÃ¡ch hÃ ng gá»­i tin nháº¯n
  â”œâ”€ Website Widget â†’ WebSocket â†’ API Gateway
  â”œâ”€ Zalo OA â†’ Webhook â†’ API Gateway
  â””â”€ Zalo Personal â†’ WebSocket/Polling â†’ API Gateway
                           â†“
                    Chatbot Service
                                              â†“
                                    RAG Engine truy váº¥n
                                    Vector Database
                                              â†“
                                    Context + Query â†’ Gemini API
                                              â†“
                                    AI Response â† Chatbot Service
                                              â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                            â†“
  LÆ°u lá»‹ch sá»­ â†’ MySQL      Check AI Mode:
                           â€¢ Auto: Gá»­i ngay
                           â€¢ Suggestion: Chá» xÃ¡c nháº­n
                           â€¢ Notification: Chá»‰ thÃ´ng bÃ¡o
                           â†“
                    Response â†’
  â”œâ”€ Website Widget (real-time)
  â”œâ”€ Zalo OA (qua API)
  â””â”€ Zalo Personal (qua API/WebSocket)
```

#### **2. Luá»“ng phÃ¢n tÃ­ch AI**
```
Dá»¯ liá»‡u bÃ¡n hÃ ng â†’ Analytics Service â†’ Xá»­ lÃ½ & tá»•ng há»£p
                                              â†“
                                    Gá»­i lÃªn Gemini API
                                    Ä‘á»ƒ phÃ¢n tÃ­ch
                                              â†“
                                    AI Insights & Recommendations
                                              â†“
                                    LÆ°u bÃ¡o cÃ¡o â†’ MySQL
                                              â†“
                                    Hiá»ƒn thá»‹ Dashboard
```

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### **Frontend**

| CÃ´ng nghá»‡ | Má»¥c Ä‘Ã­ch | Version |
|-----------|----------|---------|
| âš¡ **Next.js** | React Framework, SSR, SSG, App Router | 14.x |
| ğŸ¨ **TailwindCSS** | Styling & UI Components | 3.x |
| ğŸ­ **Shadcn/ui** | Component Library | Latest |
| ğŸ“Š **Recharts** | Biá»ƒu Ä‘á»“ vÃ  visualization | Latest |
| ğŸ”Œ **Socket.io Client** | Real-time chat | 4.x |
| ğŸ“¦ **Zustand** | State management | Latest |
| ğŸ” **NextAuth.js** | Authentication | 5.x |
| ğŸ¯ **TypeScript** | Type safety | 5.x |
| ğŸ”„ **React Query** | Data fetching & caching | Latest |

#### **TÃ­nh nÄƒng Next.js Ä‘Æ°á»£c sá»­ dá»¥ng:**

- âš¡ **App Router**: Routing má»›i vá»›i Server Components
- ğŸš€ **Server-Side Rendering (SSR)**: Tá»‘i Æ°u SEO vÃ  performance
- ğŸ“¦ **Static Site Generation (SSG)**: Pre-render pages tÄ©nh
- ğŸ¨ **Server Actions**: Xá»­ lÃ½ form vÃ  mutations
- ğŸ–¼ï¸ **Image Optimization**: Tá»± Ä‘á»™ng tá»‘i Æ°u hÃ¬nh áº£nh
- ğŸ“± **Progressive Web App (PWA)**: Há»— trá»£ offline mode
- ğŸ”„ **Incremental Static Regeneration**: Cáº­p nháº­t ná»™i dung Ä‘á»™ng

### **Backend**

| CÃ´ng nghá»‡ | Má»¥c Ä‘Ã­ch | Version |
|-----------|----------|---------|
| â˜• **Spring Boot** | Framework backend, REST API | 3.x |
| ğŸ”’ **Spring Security** | Authentication & Authorization | 6.x |
| ğŸ« **JWT** | Token-based authentication | - |
| ğŸ’¾ **Spring Data JPA** | ORM, database access | 3.x |
| ğŸ”„ **Spring WebSocket** | Real-time communication | 6.x |
| ğŸ“ **Lombok** | Reduce boilerplate code | 1.18.x |
| âœ… **Validation API** | Input validation | - |

### **Database**

| CÃ´ng nghá»‡ | Má»¥c Ä‘Ã­ch |
|-----------|----------|
| ğŸ¬ **MySQL** | Main database (customers, orders, products) |
| ğŸ”¢ **pgvector** / **Pinecone** / **Weaviate** | Vector database for RAG embeddings |
| ğŸ“¦ **Redis** | Caching & session management |

### **AI & NLP**

| CÃ´ng nghá»‡ | Má»¥c Ä‘Ã­ch |
|-----------|----------|
| ğŸ¤– **Google Gemini API** | LLM for chatbot, analysis, recommendations |
| ğŸ“Š **LangChain** | RAG orchestration framework |
| ğŸ”¤ **Sentence Transformers** | Text embeddings |

### **DevOps & Deployment**

| CÃ´ng nghá»‡ | Má»¥c Ä‘Ã­ch |
|-----------|----------|
| ğŸ³ **Docker** | Containerization |
| ğŸ“¦ **Docker Compose** | Multi-container orchestration |
| â˜ï¸ **VPS Ubuntu Server** | Production hosting |
| ğŸ”„ **GitHub Actions** | CI/CD pipeline |
| ğŸ“Š **Prometheus + Grafana** | Monitoring & analytics |

### **External APIs & Integration**

- ğŸ’¬ **Zalo Official Account API**: TÃ­ch há»£p Zalo OA
  - Webhook xá»­ lÃ½ tin nháº¯n
  - Gá»­i tin nháº¯n tá»± Ä‘á»™ng
  - Template messages
  - User profile API
- ğŸ‘¤ **Zalo Personal Account**: TÃ­ch há»£p tÃ i khoáº£n cÃ¡ nhÃ¢n (unofficial)
  - QR Code authentication
  - Real-time message sync
  - WebSocket connection
  - Session management
  - âš ï¸ **LÆ°u Ã½**: KhÃ´ng pháº£i API chÃ­nh thá»©c, cÃ³ rá»§i ro bá»‹ khÃ³a tÃ i khoáº£n náº¿u vi pháº¡m Ä‘iá»u khoáº£n Zalo
- ğŸ’³ **VNPay / MoMo API**: Payment gateway

---

## ğŸ§© RAG & MCP Framework

### ğŸ” RAG (Retrieval-Augmented Generation) - CÃ´ng nghá»‡ AI

**RAG lÃ  gÃ¬?**

RAG lÃ  ká»¹ thuáº­t káº¿t há»£p giá»¯a tÃ¬m kiáº¿m thÃ´ng tin (Retrieval) vÃ  sinh text (Generation) Ä‘á»ƒ AI Ä‘Æ°a ra cÃ¢u tráº£ lá»i chÃ­nh xÃ¡c dá»±a trÃªn dá»¯ liá»‡u thá»±c táº¿ thay vÃ¬ chá»‰ dá»±a vÃ o kiáº¿n thá»©c Ä‘Ã£ há»c.

**CÃ¡ch hoáº¡t Ä‘á»™ng trong dá»± Ã¡n:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: DOCUMENT INGESTION                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚  â”‚ Doanh nghiá»‡p   â”‚ â†’ Upload PDF/DOCX/TXT                â”‚
â”‚  â”‚ upload tÃ i liá»‡uâ”‚                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
â”‚           â”‚                                               â”‚
â”‚           â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Text Extraction & Chunking                 â”‚         â”‚
â”‚  â”‚ - Chia nhá» vÄƒn báº£n thÃ nh chunks 500 tokens â”‚         â”‚
â”‚  â”‚ - Xá»­ lÃ½ Ä‘á»‹nh dáº¡ng, loáº¡i bá» noise          â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                                               â”‚
â”‚           â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Generate Embeddings (Gemini API)           â”‚         â”‚
â”‚  â”‚ - Chuyá»ƒn text â†’ vector embeddings         â”‚         â”‚
â”‚  â”‚ - Model: text-embedding-004 (768 dim)     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                                               â”‚
â”‚           â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Store in Vector Database                   â”‚         â”‚
â”‚  â”‚ - LÆ°u embeddings + metadata               â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: QUERY PROCESSING                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚  â”‚ KhÃ¡ch hÃ ng há»i:â”‚                                      â”‚
â”‚  â”‚ "ChÃ­nh sÃ¡ch    â”‚                                      â”‚
â”‚  â”‚ báº£o hÃ nh?"     â”‚                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
â”‚           â”‚                                               â”‚
â”‚           â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Generate Query Embedding                   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                                               â”‚
â”‚           â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Vector Similarity Search                   â”‚         â”‚
â”‚  â”‚ - TÃ¬m top 5 chunks liÃªn quan nháº¥t         â”‚         â”‚
â”‚  â”‚ - Cosine similarity > 0.7                  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                                               â”‚
â”‚           â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Context: "Sáº£n pháº©m Ä‘Æ°á»£c báº£o hÃ nh 12       â”‚         â”‚
â”‚  â”‚ thÃ¡ng ká»ƒ tá»« ngÃ y mua. KhÃ¡ch hÃ ng cáº§n...   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 3: GENERATION                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Prompt = Context + Query + Instructions    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                                               â”‚
â”‚           â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Gemini API generates answer                â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                                               â”‚
â”‚           â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ AI Response: "Dáº¡, sáº£n pháº©m cá»§a bÃªn em     â”‚         â”‚
â”‚  â”‚ Ä‘Æ°á»£c báº£o hÃ nh 12 thÃ¡ng ká»ƒ tá»« ngÃ y mua.     â”‚         â”‚
â”‚  â”‚ Anh/chá»‹ cáº§n giá»¯ hÃ³a Ä‘Æ¡n Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£..." â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Lá»£i Ã­ch:**
- âœ… Äá»™ chÃ­nh xÃ¡c cao: Tráº£ lá»i dá»±a trÃªn tÃ i liá»‡u thá»±c
- âœ… Giáº£m thiá»ƒu hallucination: Ãt bá»‹a Ä‘áº·t thÃ´ng tin hÆ¡n
- âœ… CÃ³ thá»ƒ trÃ­ch dáº«n nguá»“n tÃ i liá»‡u
- âœ… Dá»… cáº­p nháº­t: Upload tÃ i liá»‡u má»›i lÃ  xong

---

### ğŸ”„ MCP (Model â€“ Context â€“ Process) - Framework PhÃ¢n TÃ­ch Há»‡ Thá»‘ng

> **ğŸ“ Äá»‹nh nghÄ©a:** MCP lÃ  **framework phÃ¢n tÃ­ch há»‡ thá»‘ng**, giÃºp mÃ´ táº£ rÃµ rÃ ng pháº¡m vi vÃ  hoáº¡t Ä‘á»™ng cá»§a dá»± Ã¡n. ÄÃ¢y KHÃ”NG pháº£i lÃ  cÃ´ng nghá»‡ AI nhÆ° RAG, mÃ  lÃ  phÆ°Æ¡ng phÃ¡p tá»• chá»©c vÃ  phÃ¢n tÃ­ch há»‡ thá»‘ng.

**Sá»± khÃ¡c biá»‡t:**
- **RAG** = CÃ´ng nghá»‡ AI thá»±c táº¿ (Retrieval-Augmented Generation)
- **MCP** = Framework phÃ¢n tÃ­ch vÃ  tá»• chá»©c há»‡ thá»‘ng

**Ãp dá»¥ng MCP trong dá»± Ã¡n:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1ï¸âƒ£ MODEL (M â€“ MÃ´ hÃ¬nh há»‡ thá»‘ng)                       â”‚
â”‚                                                          â”‚
â”‚  Há»‡ thá»‘ng AI Agent for Business gá»“m cÃ¡c thÃ nh pháº§n:    â”‚
â”‚                                                          â”‚
â”‚  ğŸ¤– Chatbot AI                                          â”‚
â”‚     â€¢ TÆ° váº¥n khÃ¡ch hÃ ng 24/7                           â”‚
â”‚     â€¢ Ghi nháº­n Ä‘Æ¡n hÃ ng tá»« chat                        â”‚
â”‚     â€¢ TÃ­ch há»£p Ä‘a kÃªnh (Website, Zalo OA, Zalo Personal)â”‚
â”‚                                                          â”‚
â”‚  ğŸ“Š CRM Mini                                            â”‚
â”‚     â€¢ Quáº£n lÃ½ khÃ¡ch hÃ ng                               â”‚
â”‚     â€¢ Quáº£n lÃ½ sáº£n pháº©m                                 â”‚
â”‚     â€¢ Quáº£n lÃ½ Ä‘Æ¡n hÃ ng                                 â”‚
â”‚     â€¢ BÃ¡o cÃ¡o doanh thu                                â”‚
â”‚                                                          â”‚
â”‚  ğŸ§  AI PhÃ¢n tÃ­ch & Äá» xuáº¥t                              â”‚
â”‚     â€¢ PhÃ¢n tÃ­ch RFM khÃ¡ch hÃ ng                         â”‚
â”‚     â€¢ Äá» xuáº¥t chiáº¿n lÆ°á»£c marketing                     â”‚
â”‚     â€¢ Dá»± Ä‘oÃ¡n xu hÆ°á»›ng nháº­p hÃ ng                       â”‚
â”‚     â€¢ Gá»£i Ã½ chÆ°Æ¡ng trÃ¬nh khuyáº¿n mÃ£i                    â”‚
â”‚                                                          â”‚
â”‚  ğŸ“š Quáº£n lÃ½ tÃ i liá»‡u (RAG)                              â”‚
â”‚     â€¢ Upload tÃ i liá»‡u PDF/DOCX/TXT                     â”‚
â”‚     â€¢ Vector hÃ³a vÃ  lÆ°u trá»¯                            â”‚
â”‚     â€¢ Truy xuáº¥t thÃ´ng tin chÃ­nh xÃ¡c                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2ï¸âƒ£ CONTEXT (C â€“ Ngá»¯ cáº£nh)                             â”‚
â”‚                                                          â”‚
â”‚  ğŸ“Œ Bá»‘i cáº£nh thá»±c táº¿:                                   â”‚
â”‚     Doanh nghiá»‡p nhá» táº¡i Viá»‡t Nam khÃ´ng cÃ³ cÃ´ng cá»¥     â”‚
â”‚     quáº£n lÃ½ khÃ¡ch hÃ ng vÃ  CSKH hiá»‡u quáº£                â”‚
â”‚                                                          â”‚
â”‚  âš ï¸ Váº¥n Ä‘á» cáº§n giáº£i quyáº¿t:                              â”‚
â”‚     â€¢ Chi phÃ­ CSKH cao (thuÃª nhÃ¢n viÃªn)                â”‚
â”‚     â€¢ Thiáº¿u nhÃ¢n sá»± chuyÃªn mÃ´n                         â”‚
â”‚     â€¢ Tháº¥t thoÃ¡t dá»¯ liá»‡u khÃ¡ch hÃ ng                    â”‚
â”‚     â€¢ KhÃ³ phÃ¢n tÃ­ch & Ä‘Æ°a ra chiáº¿n lÆ°á»£c kinh doanh     â”‚
â”‚     â€¢ KhÃ´ng cÃ³ insight vá» hÃ nh vi khÃ¡ch hÃ ng           â”‚
â”‚                                                          â”‚
â”‚  âœ… Giáº£i phÃ¡p:                                          â”‚
â”‚     AI Agent há»— trá»£ tá»± Ä‘á»™ng:                           â”‚
â”‚     â†’ CSKH: Chatbot tráº£ lá»i 24/7                       â”‚
â”‚     â†’ Quáº£n lÃ½: CRM táº­p trung táº¥t cáº£ dá»¯ liá»‡u            â”‚
â”‚     â†’ PhÃ¢n tÃ­ch: AI Ä‘Æ°a ra insights & Ä‘á» xuáº¥t          â”‚
â”‚                                                          â”‚
â”‚  ğŸ¯ YÃªu cáº§u:                                            â”‚
â”‚     â€¢ GiÃ¡ thÃ nh há»£p lÃ½ cho DN nhá»                      â”‚
â”‚     â€¢ Dá»… sá»­ dá»¥ng, khÃ´ng cáº§n ká»¹ nÄƒng ká»¹ thuáº­t          â”‚
â”‚     â€¢ TÃ­ch há»£p Ä‘a kÃªnh (Website, Zalo)                 â”‚
â”‚     â€¢ Há»— trá»£ tiáº¿ng Viá»‡t hoÃ n toÃ n                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3ï¸âƒ£ PROCESS (P â€“ Quy trÃ¬nh hoáº¡t Ä‘á»™ng)                  â”‚
â”‚                                                          â”‚
â”‚  ğŸ“± Quy trÃ¬nh End-to-End:                               â”‚
â”‚                                                          â”‚
â”‚  BÆ¯á»šC 1: TÆ°Æ¡ng tÃ¡c khÃ¡ch hÃ ng                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ KhÃ¡ch hÃ ng chat qua:                          â”‚     â”‚
â”‚  â”‚ â€¢ Website Widget                              â”‚     â”‚
â”‚  â”‚ â€¢ Zalo Official Account (OA)                  â”‚     â”‚
â”‚  â”‚ â€¢ Zalo Personal Account                       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                    â†“                                     â”‚
â”‚  BÆ¯á»šC 2: AI xá»­ lÃ½ & tráº£ lá»i                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â€¢ Chatbot nháº­n tin nháº¯n                       â”‚     â”‚
â”‚  â”‚ â€¢ Náº¿u cáº§n, truy xuáº¥t tÃ i liá»‡u (RAG)          â”‚     â”‚
â”‚  â”‚ â€¢ AI tráº£ lá»i dá»±a trÃªn dá»¯ liá»‡u shop thá»±c táº¿    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                    â†“                                     â”‚
â”‚  BÆ¯á»šC 3: Ghi nháº­n dá»¯ liá»‡u                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â€¢ LÆ°u Ä‘Æ¡n hÃ ng vÃ o CRM                        â”‚     â”‚
â”‚  â”‚ â€¢ LÆ°u thÃ´ng tin khÃ¡ch hÃ ng                    â”‚     â”‚
â”‚  â”‚ â€¢ Ghi nháº­n lá»‹ch sá»­ tÆ°Æ¡ng tÃ¡c                  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                    â†“                                     â”‚
â”‚  BÆ¯á»šC 4: Dashboard & Quáº£n lÃ½                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â€¢ Doanh nghiá»‡p Ä‘Äƒng nháº­p Dashboard           â”‚     â”‚
â”‚  â”‚ â€¢ Xem bÃ¡o cÃ¡o doanh thu, Ä‘Æ¡n hÃ ng            â”‚     â”‚
â”‚  â”‚ â€¢ Quáº£n lÃ½ khÃ¡ch hÃ ng, sáº£n pháº©m               â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                    â†“                                     â”‚
â”‚  BÆ¯á»šC 5: AI PhÃ¢n tÃ­ch                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â€¢ AI phÃ¢n tÃ­ch dá»¯ liá»‡u doanh thu              â”‚     â”‚
â”‚  â”‚ â€¢ PhÃ¢n tÃ­ch hÃ nh vi khÃ¡ch hÃ ng (RFM)          â”‚     â”‚
â”‚  â”‚ â€¢ Dá»± Ä‘oÃ¡n xu hÆ°á»›ng                            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                    â†“                                     â”‚
â”‚  BÆ¯á»šC 6: Äá» xuáº¥t chiáº¿n lÆ°á»£c                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ AI Ä‘Æ°a ra insights & recommendations:         â”‚     â”‚
â”‚  â”‚ â€¢ Chiáº¿n lÆ°á»£c marketing                        â”‚     â”‚
â”‚  â”‚ â€¢ Káº¿ hoáº¡ch nháº­p hÃ ng                          â”‚     â”‚
â”‚  â”‚ â€¢ ChÆ°Æ¡ng trÃ¬nh khuyáº¿n mÃ£i                     â”‚     â”‚
â”‚  â”‚ â€¢ PhÃ¢n khÃºc khÃ¡ch hÃ ng                        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                    â†“                                     â”‚
â”‚  ğŸ”„ VÃ²ng láº·p cáº£i tiáº¿n liÃªn tá»¥c                         â”‚
â”‚     Doanh nghiá»‡p Ã¡p dá»¥ng â†’ Thu tháº­p data má»›i           â”‚
â”‚     â†’ AI há»c & cáº£i thiá»‡n â†’ Äá» xuáº¥t tá»‘t hÆ¡n            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**TÃ³m táº¯t MCP:**
- **MODEL**: MÃ´ táº£ CÃI GÃŒ há»‡ thá»‘ng lÃ m (Chatbot, CRM, AI Analytics, RAG)
- **CONTEXT**: Giáº£i thÃ­ch Táº I SAO cáº§n há»‡ thá»‘ng nÃ y (váº¥n Ä‘á», giáº£i phÃ¡p, yÃªu cáº§u)
- **PROCESS**: TrÃ¬nh bÃ y NHÆ¯ THáº¾ NÃ€O há»‡ thá»‘ng hoáº¡t Ä‘á»™ng (workflow end-to-end)

---

## âš™ï¸ CÃ i Ä‘áº·t

### ğŸ“‹ YÃªu cáº§u há»‡ thá»‘ng

- **Java**: 17 hoáº·c cao hÆ¡n
- **Node.js**: 18.x hoáº·c cao hÆ¡n (cho Next.js)
- **Next.js**: 14.x
- **MySQL**: 8.0 hoáº·c cao hÆ¡n
- **Docker**: 24.x hoáº·c cao hÆ¡n (khuyáº¿n nghá»‹)
- **RAM**: Tá»‘i thiá»ƒu 4GB (khuyáº¿n nghá»‹ 8GB)

### ğŸš€ CÃ i Ä‘áº·t Local Development

#### **1. Clone repository**

```bash
git clone https://github.com/yourusername/AI-Agent-for-Business.git
cd AI-Agent-for-Business
```

#### **2. Setup Backend (Spring Boot)**

```bash
cd backend

# Cáº¥u hÃ¬nh database trong application.properties
cp src/main/resources/application.properties.example src/main/resources/application.properties

# Chá»‰nh sá»­a application.properties:
# spring.datasource.url=jdbc:mysql://localhost:3306/ai_agent_db
# spring.datasource.username=your_username
# spring.datasource.password=your_password
# gemini.api.key=your_gemini_api_key

# Build vÃ  cháº¡y
./mvnw clean install
./mvnw spring-boot:run
```

Backend sáº½ cháº¡y táº¡i `http://localhost:8088`

#### **3. Setup Frontend (Next.js 14)**

```bash
cd frontend

# CÃ i Ä‘áº·t dependencies
npm install

# Cáº¥u hÃ¬nh environment
cp .env.example .env.local

# Chá»‰nh sá»­a .env.local:
# NEXT_PUBLIC_API_URL=http://localhost:8088/api/v1
# NEXT_PUBLIC_SOCKET_URL=ws://localhost:8088
# NEXTAUTH_SECRET=your_nextauth_secret_key
# NEXTAUTH_URL=http://localhost:3008

# Cháº¡y development server
npm run dev
```

Frontend (Next.js) sáº½ cháº¡y táº¡i `http://localhost:3008`

#### **4. Setup Database**

```bash
# Táº¡o database
mysql -u root -p

CREATE DATABASE ai_agent_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
exit;

# Import schema (náº¿u cÃ³)
mysql -u root -p ai_agent_db < database/schema.sql
```

#### **5. Setup Vector Database (Optional - cho RAG)**

**Sá»­ dá»¥ng pgvector:**

```bash
# CÃ i Ä‘áº·t PostgreSQL vá»›i pgvector extension
docker run --name pgvector \
  -e POSTGRES_PASSWORD=postgres \
  -p 5432:5432 \
  -d ankane/pgvector

# Táº¡o database vÃ  enable extension
psql -h localhost -U postgres
CREATE DATABASE vector_db;
\c vector_db
CREATE EXTENSION vector;
```

**Hoáº·c sá»­ dá»¥ng Pinecone (Cloud):**

```bash
# ÄÄƒng kÃ½ tÃ i khoáº£n táº¡i https://www.pinecone.io/
# Láº¥y API key vÃ  cáº¥u hÃ¬nh trong application.properties
pinecone.api.key=your_pinecone_key
pinecone.environment=us-west1-gcp
```

### ğŸ³ Triá»ƒn khai vá»›i Docker

```bash
# Build vÃ  cháº¡y táº¥t cáº£ services
docker-compose up -d

# Kiá»ƒm tra logs
docker-compose logs -f

# Dá»«ng services
docker-compose down
```

**docker-compose.yml:**

```yaml
version: '3.8'

services:
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: ai_agent_db
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql

  backend:
    build: ./backend
    ports:
      - "8088:8088"
    environment:
      SPRING_DATASOURCE_URL: jdbc:mysql://mysql:3306/ai_agent_db
      GEMINI_API_KEY: ${GEMINI_API_KEY}
    depends_on:
      - mysql

  frontend:
    build: 
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "3008:3008"
    environment:
      NEXT_PUBLIC_API_URL: http://backend:8088/api/v1
      NEXT_PUBLIC_SOCKET_URL: ws://backend:8088
      NEXTAUTH_SECRET: ${NEXTAUTH_SECRET}
      NEXTAUTH_URL: http://localhost:3008
    depends_on:
      - backend

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

volumes:
  mysql_data:
```

---

## ğŸ‘¥ PhÃ¢n quyá»n vÃ  vai trÃ² ngÆ°á»i dÃ¹ng

Há»‡ thá»‘ng sá»­ dá»¥ng **Role-Based Access Control (RBAC)** vá»›i 3 vai trÃ² chÃ­nh:

### ğŸ” 1. ADMIN (Quáº£n trá»‹ viÃªn há»‡ thá»‘ng)

**Quyá»n truy cáº­p:**
- âœ… **Full access** toÃ n bá»™ há»‡ thá»‘ng
- âœ… Quáº£n lÃ½ táº¥t cáº£ doanh nghiá»‡p (businesses)
- âœ… Xem vÃ  sá»­a táº¥t cáº£ dá»¯ liá»‡u
- âœ… Quáº£n lÃ½ ngÆ°á»i dÃ¹ng há»‡ thá»‘ng
- âœ… Cáº¥u hÃ¬nh há»‡ thá»‘ng global
- âœ… Xem logs vÃ  monitoring
- âœ… Quáº£n lÃ½ subscription vÃ  billing

**Giao diá»‡n:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›ï¸ ADMIN DASHBOARD                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Tá»•ng quan há»‡ thá»‘ng                                  â”‚
â”‚     â€¢ Tá»•ng sá»‘ doanh nghiá»‡p: 150                         â”‚
â”‚     â€¢ Tá»•ng sá»‘ khÃ¡ch hÃ ng: 15,000                        â”‚
â”‚     â€¢ Messages hÃ´m nay: 25,000                          â”‚
â”‚                                                          â”‚
â”‚  ğŸ¢ Quáº£n lÃ½ doanh nghiá»‡p                                â”‚
â”‚     â€¢ Danh sÃ¡ch businesses                              â”‚
â”‚     â€¢ Duyá»‡t Ä‘Äƒng kÃ½ má»›i                                 â”‚
â”‚     â€¢ Suspend/Active account                            â”‚
â”‚                                                          â”‚
â”‚  ğŸ’³ Billing & Subscription                              â”‚
â”‚     â€¢ Quáº£n lÃ½ gÃ³i dá»‹ch vá»¥                               â”‚
â”‚     â€¢ Doanh thu                                         â”‚
â”‚     â€¢ Gia háº¡n/NÃ¢ng cáº¥p                                  â”‚
â”‚                                                          â”‚
â”‚  âš™ï¸ Cáº¥u hÃ¬nh há»‡ thá»‘ng                                   â”‚
â”‚     â€¢ AI Model settings                                 â”‚
â”‚     â€¢ Rate limiting                                     â”‚
â”‚     â€¢ Email/SMS gateway                                 â”‚
â”‚                                                          â”‚
â”‚  ğŸ“ˆ Analytics & Reports                                 â”‚
â”‚     â€¢ System performance                                â”‚
â”‚     â€¢ Error logs                                        â”‚
â”‚     â€¢ Usage statistics                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API Endpoints (Admin only):**
```
GET    /admin/businesses           # Danh sÃ¡ch doanh nghiá»‡p
GET    /admin/businesses/{id}      # Chi tiáº¿t doanh nghiá»‡p
PUT    /admin/businesses/{id}      # Cáº­p nháº­t doanh nghiá»‡p
DELETE /admin/businesses/{id}      # XÃ³a doanh nghiá»‡p
GET    /admin/stats                # Thá»‘ng kÃª há»‡ thá»‘ng
GET    /admin/logs                 # System logs
POST   /admin/broadcast            # Gá»­i thÃ´ng bÃ¡o toÃ n há»‡ thá»‘ng
```

---

### ğŸ¢ 2. BUSINESS (Doanh nghiá»‡p)

**Quyá»n truy cáº­p:**
- âœ… Quáº£n lÃ½ **dá»¯ liá»‡u riÃªng** cá»§a doanh nghiá»‡p mÃ¬nh
- âœ… Quáº£n lÃ½ khÃ¡ch hÃ ng cá»§a mÃ¬nh
- âœ… Quáº£n lÃ½ sáº£n pháº©m, Ä‘Æ¡n hÃ ng
- âœ… Cáº¥u hÃ¬nh chatbot vÃ  AI
- âœ… TÃ­ch há»£p Zalo (OA + Personal)
- âœ… Upload tÃ i liá»‡u RAG
- âœ… Xem analytics cá»§a doanh nghiá»‡p mÃ¬nh
- âŒ **KHÃ”NG** tháº¥y dá»¯ liá»‡u doanh nghiá»‡p khÃ¡c
- âŒ **KHÃ”NG** cÃ³ quyá»n admin

**Giao diá»‡n:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¢ BUSINESS DASHBOARD - Cá»­a hÃ ng ABC                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Tá»•ng quan kinh doanh                                â”‚
â”‚     â€¢ Doanh thu thÃ¡ng nÃ y: 150,000,000Ä‘                 â”‚
â”‚     â€¢ ÄÆ¡n hÃ ng má»›i: 45                                  â”‚
â”‚     â€¢ KhÃ¡ch hÃ ng má»›i: 23                                â”‚
â”‚     â€¢ Tin nháº¯n chÆ°a Ä‘á»c: 12                             â”‚
â”‚                                                          â”‚
â”‚  ğŸ’¬ Quáº£n lÃ½ há»™i thoáº¡i                                   â”‚
â”‚     â€¢ Website Widget: 15 cuá»™c trÃ² chuyá»‡n               â”‚
â”‚     â€¢ Zalo OA: 8 cuá»™c trÃ² chuyá»‡n                       â”‚
â”‚     â€¢ Zalo Personal: 20 cuá»™c trÃ² chuyá»‡n                â”‚
â”‚                                                          â”‚
â”‚  ğŸ‘¥ CRM - Quáº£n lÃ½ khÃ¡ch hÃ ng                            â”‚
â”‚     â€¢ Danh sÃ¡ch khÃ¡ch hÃ ng                              â”‚
â”‚     â€¢ PhÃ¢n loáº¡i (VIP, Regular, Potential)               â”‚
â”‚     â€¢ Lá»‹ch sá»­ mua hÃ ng                                  â”‚
â”‚                                                          â”‚
â”‚  ğŸ“¦ Quáº£n lÃ½ sáº£n pháº©m & Ä‘Æ¡n hÃ ng                         â”‚
â”‚     â€¢ Danh má»¥c sáº£n pháº©m                                 â”‚
â”‚     â€¢ Tá»“n kho                                           â”‚
â”‚     â€¢ ÄÆ¡n hÃ ng (pending, processing, completed)         â”‚
â”‚                                                          â”‚
â”‚  ğŸ¤– Cáº¥u hÃ¬nh AI Chatbot                                 â”‚
â”‚     â€¢ TÃ­ch há»£p kÃªnh (Website, Zalo OA, Zalo Personal)  â”‚
â”‚     â€¢ Upload tÃ i liá»‡u RAG                               â”‚
â”‚     â€¢ Cháº¿ Ä‘á»™ AI (Auto/Suggestion/Notification)          â”‚
â”‚     â€¢ Training & Fine-tuning                            â”‚
â”‚                                                          â”‚
â”‚  ğŸ“Š AI Insights & Analytics                             â”‚
â”‚     â€¢ PhÃ¢n tÃ­ch khÃ¡ch hÃ ng (RFM)                        â”‚
â”‚     â€¢ Sáº£n pháº©m bÃ¡n cháº¡y                                 â”‚
â”‚     â€¢ Dá»± Ä‘oÃ¡n doanh thu                                 â”‚
â”‚     â€¢ Äá» xuáº¥t chiáº¿n lÆ°á»£c                                â”‚
â”‚                                                          â”‚
â”‚  âš™ï¸ CÃ i Ä‘áº·t                                             â”‚
â”‚     â€¢ ThÃ´ng tin doanh nghiá»‡p                            â”‚
â”‚     â€¢ Quáº£n lÃ½ nhÃ¢n viÃªn                                 â”‚
â”‚     â€¢ Thanh toÃ¡n & gÃ³i dá»‹ch vá»¥                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API Endpoints (Business):**
```
# KhÃ¡ch hÃ ng
GET    /business/customers         # KhÃ¡ch hÃ ng cá»§a mÃ¬nh
POST   /business/customers         # ThÃªm khÃ¡ch hÃ ng
PUT    /business/customers/{id}    # Cáº­p nháº­t khÃ¡ch hÃ ng
DELETE /business/customers/{id}    # XÃ³a khÃ¡ch hÃ ng

# Sáº£n pháº©m
GET    /business/products          # Sáº£n pháº©m cá»§a mÃ¬nh
POST   /business/products          # ThÃªm sáº£n pháº©m
PUT    /business/products/{id}     # Cáº­p nháº­t sáº£n pháº©m
DELETE /business/products/{id}     # XÃ³a sáº£n pháº©m

# ÄÆ¡n hÃ ng
GET    /business/orders            # ÄÆ¡n hÃ ng cá»§a mÃ¬nh
POST   /business/orders            # Táº¡o Ä‘Æ¡n hÃ ng
PUT    /business/orders/{id}       # Cáº­p nháº­t Ä‘Æ¡n hÃ ng

# Chatbot & AI
GET    /business/conversations     # Há»™i thoáº¡i cá»§a mÃ¬nh
POST   /business/chatbot/config    # Cáº¥u hÃ¬nh chatbot
POST   /business/documents/upload  # Upload tÃ i liá»‡u RAG

# Zalo Integration
POST   /business/zalo/oa/config    # Config Zalo OA
POST   /business/zalo/personal/qr  # Generate QR Zalo Personal
GET    /business/zalo/conversations # Zalo conversations

# Analytics
GET    /business/analytics/overview    # Tá»•ng quan
GET    /business/analytics/insights    # AI Insights
```

---

### ğŸ‘¤ 3. CUSTOMER (KhÃ¡ch hÃ ng)

**Quyá»n truy cáº­p:**
- âœ… Chat vá»›i chatbot (Website, Zalo)
- âœ… Xem lá»‹ch sá»­ chat cá»§a mÃ¬nh
- âœ… Xem Ä‘Æ¡n hÃ ng cá»§a mÃ¬nh
- âœ… Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n
- âŒ **KHÃ”NG** tháº¥y thÃ´ng tin khÃ¡ch hÃ ng khÃ¡c
- âŒ **KHÃ”NG** vÃ o Dashboard doanh nghiá»‡p
- âŒ **KHÃ”NG** cÃ³ quyá»n quáº£n lÃ½

**Giao diá»‡n:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ CUSTOMER PORTAL - Nguyá»…n VÄƒn A                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¬ TrÃ² chuyá»‡n vá»›i shop                                 â”‚
â”‚     [Chat widget hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y]                        â”‚
â”‚                                                          â”‚
â”‚  ğŸ“¦ ÄÆ¡n hÃ ng cá»§a tÃ´i                                    â”‚
â”‚     â€¢ ÄÆ¡n hÃ ng #12345 - Äang giao                       â”‚
â”‚     â€¢ ÄÆ¡n hÃ ng #12344 - HoÃ n thÃ nh                      â”‚
â”‚     â€¢ ÄÆ¡n hÃ ng #12343 - ÄÃ£ há»§y                          â”‚
â”‚                                                          â”‚
â”‚  ğŸ‘¤ ThÃ´ng tin cÃ¡ nhÃ¢n                                   â”‚
â”‚     â€¢ Há» tÃªn: Nguyá»…n VÄƒn A                              â”‚
â”‚     â€¢ Email: nguyenvana@email.com                       â”‚
â”‚     â€¢ SÄT: 0901234567                                   â”‚
â”‚     â€¢ Äá»‹a chá»‰: ...                                      â”‚
â”‚                                                          â”‚
â”‚  ğŸ”” ThÃ´ng bÃ¡o                                            â”‚
â”‚     â€¢ ÄÆ¡n hÃ ng #12345 Ä‘ang Ä‘Æ°á»£c giao                    â”‚
â”‚     â€¢ Khuyáº¿n mÃ£i má»›i: Giáº£m 20%                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API Endpoints (Customer):**
```
# Chat
POST   /customer/chat/send         # Gá»­i tin nháº¯n
GET    /customer/chat/history      # Lá»‹ch sá»­ chat cá»§a mÃ¬nh

# ÄÆ¡n hÃ ng
GET    /customer/orders            # ÄÆ¡n hÃ ng cá»§a mÃ¬nh
GET    /customer/orders/{id}       # Chi tiáº¿t Ä‘Æ¡n hÃ ng
POST   /customer/orders/{id}/cancel # Há»§y Ä‘Æ¡n hÃ ng

# Profile
GET    /customer/profile           # ThÃ´ng tin cá»§a mÃ¬nh
PUT    /customer/profile           # Cáº­p nháº­t thÃ´ng tin
```

---

## ğŸ” Báº£ng phÃ¢n quyá»n chi tiáº¿t

| Chá»©c nÄƒng | ğŸ›ï¸ Admin | ğŸ¢ Business | ğŸ‘¤ Customer |
|-----------|----------|-------------|-------------|
| **Quáº£n lÃ½ há»‡ thá»‘ng** | âœ… Full | âŒ | âŒ |
| **Quáº£n lÃ½ doanh nghiá»‡p khÃ¡c** | âœ… | âŒ | âŒ |
| **Quáº£n lÃ½ khÃ¡ch hÃ ng (cá»§a mÃ¬nh)** | âœ… | âœ… | âŒ |
| **Quáº£n lÃ½ sáº£n pháº©m** | âœ… | âœ… | âŒ |
| **Quáº£n lÃ½ Ä‘Æ¡n hÃ ng (cá»§a mÃ¬nh)** | âœ… | âœ… | âœ… (chá»‰ xem) |
| **Cáº¥u hÃ¬nh AI Chatbot** | âœ… | âœ… | âŒ |
| **Upload tÃ i liá»‡u RAG** | âœ… | âœ… | âŒ |
| **TÃ­ch há»£p Zalo** | âœ… | âœ… | âŒ |
| **Xem Analytics (cá»§a mÃ¬nh)** | âœ… | âœ… | âŒ |
| **Xem Analytics (toÃ n há»‡ thá»‘ng)** | âœ… | âŒ | âŒ |
| **Chat vá»›i bot** | âœ… | âœ… | âœ… |
| **Xem há»™i thoáº¡i khÃ¡ch hÃ ng** | âœ… | âœ… | âŒ |
| **Billing & Subscription** | âœ… | âœ… (cá»§a mÃ¬nh) | âŒ |
| **System logs** | âœ… | âŒ | âŒ |

---

## ğŸ”‘ Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. User truy cáº­p há»‡ thá»‘ng                            â”‚
â”‚     â†’ http://localhost:3008                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Login/Register                                    â”‚
â”‚     â€¢ Email + Password                                â”‚
â”‚     â€¢ Chá»n vai trÃ²: Business / Customer              â”‚
â”‚     â€¢ (Admin táº¡o bá»Ÿi system)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Backend xÃ¡c thá»±c                                  â”‚
â”‚     â€¢ Spring Security + JWT                           â”‚
â”‚     â€¢ Kiá»ƒm tra credentials                            â”‚
â”‚     â€¢ Táº¡o JWT token vá»›i role                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. Response JWT Token                                â”‚
â”‚     {                                                 â”‚
â”‚       "token": "eyJhbGc...",                          â”‚
â”‚       "user": {                                       â”‚
â”‚         "id": 123,                                    â”‚
â”‚         "email": "admin@business.com",                â”‚
â”‚         "role": "BUSINESS",  // ADMIN/BUSINESS/CUSTOMERâ”‚
â”‚         "businessId": 456                             â”‚
â”‚       }                                               â”‚
â”‚     }                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. Frontend route theo role                          â”‚
â”‚     â€¢ ADMIN    â†’ /admin/dashboard                     â”‚
â”‚     â€¢ BUSINESS â†’ /business/dashboard                  â”‚
â”‚     â€¢ CUSTOMER â†’ /customer/portal                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›¡ï¸ Báº£o máº­t

**1. JWT Token:**
```json
{
  "sub": "user_email@domain.com",
  "role": "BUSINESS",
  "businessId": 123,
  "permissions": ["read:customers", "write:products"],
  "iat": 1735171200,
  "exp": 1735257600
}
```

**2. Route Protection (Next.js):**
```typescript
// middleware.ts
export function middleware(request: NextRequest) {
  const token = request.cookies.get('token');
  const userRole = decodeToken(token).role;
  
  // Admin routes
  if (request.url.includes('/admin') && userRole !== 'ADMIN') {
    return NextResponse.redirect('/403');
  }
  
  // Business routes
  if (request.url.includes('/business') && userRole !== 'BUSINESS') {
    return NextResponse.redirect('/403');
  }
  
  // Customer routes
  if (request.url.includes('/customer') && userRole !== 'CUSTOMER') {
    return NextResponse.redirect('/403');
  }
}
```

**3. Backend Security (Spring Boot):**
```java
@PreAuthorize("hasRole('ADMIN')")
public ResponseEntity<?> getAllBusinesses() { ... }

@PreAuthorize("hasRole('BUSINESS')")
public ResponseEntity<?> getMyCustomers(@AuthenticationPrincipal User user) {
    // Chá»‰ tráº£ vá» khÃ¡ch hÃ ng cá»§a business nÃ y
    return customerService.findByBusinessId(user.getBusinessId());
}

@PreAuthorize("hasRole('CUSTOMER')")
public ResponseEntity<?> getMyOrders(@AuthenticationPrincipal User user) {
    // Chá»‰ tráº£ vá» Ä‘Æ¡n hÃ ng cá»§a customer nÃ y
    return orderService.findByCustomerId(user.getId());
}
```

---

## ğŸ“– Sá»­ dá»¥ng

### ğŸ” ÄÄƒng nháº­p há»‡ thá»‘ng

1. Truy cáº­p `http://localhost:3008`
2. Chá»n vai trÃ² vÃ  Ä‘Äƒng kÃ½ tÃ i khoáº£n
3. ÄÄƒng nháº­p vá»›i email/password

**Demo accounts:**

**ğŸ›ï¸ Admin:**
- Email: `admin@aiagent.system`
- Password: `Admin@123456`
- Dashboard: `/admin/dashboard`

**ğŸ¢ Business (Doanh nghiá»‡p):**
- Email: `demo@business.com`
- Password: `Business@123`
- Dashboard: `/business/dashboard`

**ğŸ‘¤ Customer (KhÃ¡ch hÃ ng):**
- Email: `customer@example.com`
- Password: `Customer@123`
- Portal: `/customer/portal`

### ğŸŒ TÃ­ch há»£p Chatbot Widget vÃ o Website

```html
<!-- ThÃªm Ä‘oáº¡n code sau vÃ o website cá»§a báº¡n (trÆ°á»›c tháº» </body>) -->
<script>
  (function(w,d,s,o,f,js,fjs){
    w['ChatbotWidget']=o;w[o]=w[o]||function(){(w[o].q=w[o].q||[]).push(arguments)};
    js=d.createElement(s),fjs=d.getElementsByTagName(s)[0];
    js.id=o;js.src=f;js.async=1;fjs.parentNode.insertBefore(js,fjs);
  }(window,document,'script','chatbot','http://localhost:3008/widget.js'));
  
  chatbot('init', {
    businessId: 'YOUR_BUSINESS_ID',
    position: 'bottom-right',  // bottom-left, top-right, top-left
    color: '#0084ff',           // MÃ u chá»§ Ä‘áº¡o
    title: 'Há»— trá»£ khÃ¡ch hÃ ng',
    subtitle: 'ChÃºng tÃ´i luÃ´n sáºµn sÃ ng há»— trá»£ báº¡n',
    avatar: 'https://yourdomain.com/bot-avatar.png'
  });
</script>
```

**TÃ¹y chá»‰nh nÃ¢ng cao:**
```javascript
chatbot('init', {
  businessId: 'YOUR_BUSINESS_ID',
  position: 'bottom-right',
  color: '#0084ff',
  
  // TÃ¹y chá»‰nh hiá»ƒn thá»‹
  title: 'AI Chatbot',
  subtitle: 'Online',
  welcomeMessage: 'Xin chÃ o! TÃ´i cÃ³ thá»ƒ giÃºp gÃ¬ cho báº¡n?',
  
  // TÃ¹y chá»‰nh hÃ nh vi
  autoOpen: false,           // Tá»± Ä‘á»™ng má»Ÿ chat
  autoOpenDelay: 5000,       // Delay trÆ°á»›c khi tá»± Ä‘á»™ng má»Ÿ (ms)
  showNotification: true,    // Hiá»ƒn thá»‹ thÃ´ng bÃ¡o
  
  // Custom styles
  width: '400px',
  height: '600px',
  zIndex: 9999
});
```

### ğŸ’¬ TÃ­ch há»£p Zalo OA

**BÆ°á»›c 1: ÄÄƒng kÃ½ Zalo Official Account**
1. Truy cáº­p [https://oa.zalo.me](https://oa.zalo.me)
2. ÄÄƒng kÃ½ Official Account cho doanh nghiá»‡p
3. HoÃ n thÃ nh xÃ¡c minh doanh nghiá»‡p

**BÆ°á»›c 2: Láº¥y thÃ´ng tin API**
1. VÃ o pháº§n **CÃ i Ä‘áº·t** â†’ **Quáº£n lÃ½ á»©ng dá»¥ng**
2. Táº¡o App má»›i hoáº·c sá»­ dá»¥ng App cÃ³ sáºµn
3. Láº¥y thÃ´ng tin:
   - OA ID
   - App ID
   - App Secret
   - Access Token

### ğŸ“¤ Upload tÃ i liá»‡u cho RAG

1. ÄÄƒng nháº­p Dashboard
2. VÃ o má»¥c **"Quáº£n lÃ½ tÃ i liá»‡u"**
3. Click **"Upload tÃ i liá»‡u"**
4. Chá»n file PDF/DOCX/TXT
5. Chá»n loáº¡i tÃ i liá»‡u (ChÃ­nh sÃ¡ch, HÆ°á»›ng dáº«n, FAQ...)
6. Click **"Xá»­ lÃ½"** â†’ Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o embeddings

### ğŸ“Š Xem bÃ¡o cÃ¡o AI

1. VÃ o má»¥c **"AI Insights"**
2. Chá»n khoáº£ng thá»i gian
3. Xem cÃ¡c phÃ¢n tÃ­ch:
   - PhÃ¢n khÃºc khÃ¡ch hÃ ng
   - Sáº£n pháº©m bÃ¡n cháº¡y
   - Dá»± Ä‘oÃ¡n doanh thu
   - Äá» xuáº¥t chiáº¿n lÆ°á»£c

**BÆ°á»›c 3: Cáº¥u hÃ¬nh Webhook**
1. VÃ o Dashboard há»‡ thá»‘ng â†’ **TÃ­ch há»£p Zalo OA**
2. Nháº­p thÃ´ng tin:
   - OA ID
   - App ID  
   - App Secret
   - Access Token
3. Cáº¥u hÃ¬nh Webhook URL táº¡i Zalo:
   - Callback URL: `https://yourdomain.com/api/v1/webhook/zalo`
   - Secret Key: Táº¡o tá»± Ä‘á»™ng trong Dashboard
4. Test káº¿t ná»‘i vÃ  lÆ°u cáº¥u hÃ¬nh

**BÆ°á»›c 4: Báº¯t Ä‘áº§u sá»­ dá»¥ng**
- KhÃ¡ch hÃ ng nháº¯n tin vÃ o Zalo OA
- Bot tá»± Ä‘á»™ng tráº£ lá»i dá»±a trÃªn RAG
- Theo dÃµi há»™i thoáº¡i trong Dashboard

### ğŸ‘¤ TÃ­ch há»£p Zalo Personal Account (TÃ i khoáº£n cÃ¡ nhÃ¢n)

> **âš ï¸ Cáº¢NH BÃO QUAN TRá»ŒNG:**  
> - TÃ­nh nÄƒng nÃ y sá»­ dá»¥ng **unofficial API** (khÃ´ng pháº£i API chÃ­nh thá»©c tá»« Zalo)
> - CÃ³ rá»§i ro **bá»‹ khÃ³a tÃ i khoáº£n** náº¿u vi pháº¡m Ä‘iá»u khoáº£n sá»­ dá»¥ng Zalo
> - **KhÃ´ng nÃªn spam** hoáº·c gá»­i tin nháº¯n hÃ ng loáº¡t
> - Chá»‰ nÃªn dÃ¹ng cho **test** hoáº·c **doanh nghiá»‡p nhá»** vá»›i lÆ°á»£ng tin nháº¯n vá»«a pháº£i
> - Vá»›i doanh nghiá»‡p chuyÃªn nghiá»‡p, khuyáº¿n nghá»‹ dÃ¹ng **Zalo OA** Ä‘á»ƒ Ä‘áº£m báº£o an toÃ n

> **ğŸ’¡ PhÃ¹ há»£p cho:** Doanh nghiá»‡p nhá», cá»­a hÃ ng online chÆ°a cÃ³ Zalo OA, hoáº·c test tÃ­nh nÄƒng trÆ°á»›c khi Ä‘áº§u tÆ° vÃ o Zalo OA.

**BÆ°á»›c 1: ÄÄƒng nháº­p qua QR Code**

1. VÃ o Dashboard â†’ **TÃ­ch há»£p Zalo Personal**
2. Click **"ÄÄƒng nháº­p báº±ng Zalo"**
3. Há»‡ thá»‘ng hiá»ƒn thá»‹ **mÃ£ QR Code**
4. Má»Ÿ app Zalo trÃªn Ä‘iá»‡n thoáº¡i â†’ QuÃ©t mÃ£ QR
5. XÃ¡c nháº­n Ä‘Äƒng nháº­p

**BÆ°á»›c 2: Cáº¥u hÃ¬nh AI Chatbot**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cáº¥u hÃ¬nh AI cho tÃ i khoáº£n Zalo                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  âœ… Báº­t AI tá»± Ä‘á»™ng tráº£ lá»i                          â”‚
â”‚  â° Thá»i gian hoáº¡t Ä‘á»™ng: 24/7                       â”‚
â”‚  ğŸ¯ Cháº¿ Ä‘á»™:                                         â”‚
â”‚     â—‹ Tá»± Ä‘á»™ng hoÃ n toÃ n                             â”‚
â”‚     â— Gá»£i Ã½ cÃ¢u tráº£ lá»i (cáº§n xÃ¡c nháº­n)             â”‚
â”‚     â—‹ Chá»‰ thÃ´ng bÃ¡o (khÃ´ng tá»± Ä‘á»™ng)                â”‚
â”‚                                                      â”‚
â”‚  ğŸ“š Sá»­ dá»¥ng tÃ i liá»‡u RAG: âœ…                        â”‚
â”‚  ğŸ›’ Tá»± Ä‘á»™ng ghi nháº­n Ä‘Æ¡n hÃ ng: âœ…                   â”‚
â”‚  ğŸ“Š Tá»± Ä‘á»™ng phÃ¢n loáº¡i khÃ¡ch hÃ ng: âœ…                â”‚
â”‚                                                      â”‚
â”‚  [LÆ°u cáº¥u hÃ¬nh]                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**BÆ°á»›c 3: Quáº£n lÃ½ vÃ  giÃ¡m sÃ¡t**

- ğŸ“± **Dashboard thá»‘ng nháº¥t**: Xem táº¥t cáº£ há»™i thoáº¡i tá»« tÃ i khoáº£n Zalo
- ğŸ”„ **Live preview**: Xem tin nháº¯n real-time
- âœ‹ **Takeover**: Chuyá»ƒn sang cháº¿ Ä‘á»™ thá»§ cÃ´ng khi cáº§n
- ğŸ“Š **Thá»‘ng kÃª**: Sá»‘ tin nháº¯n, tá»· lá»‡ tráº£ lá»i tá»± Ä‘á»™ng, Ä‘á»™ hÃ i lÃ²ng

**BÆ°á»›c 4: Cháº¿ Ä‘á»™ hoáº¡t Ä‘á»™ng**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cháº¿ Ä‘á»™ 1: Tá»° Äá»˜NG HOÃ€N TOÃ€N                        â”‚
â”‚  â€¢ AI tá»± Ä‘á»™ng tráº£ lá»i Táº¤T Cáº¢ tin nháº¯n               â”‚
â”‚  â€¢ KhÃ´ng cáº§n can thiá»‡p                               â”‚
â”‚  â€¢ PhÃ¹ há»£p: NgoÃ i giá» lÃ m viá»‡c, lÃºc báº­n             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Cháº¿ Ä‘á»™ 2: Gá»¢I Ã + XÃC NHáº¬N                         â”‚
â”‚  â€¢ AI gá»£i Ã½ cÃ¢u tráº£ lá»i                              â”‚
â”‚  â€¢ Báº¡n xem vÃ  click "Gá»­i" hoáº·c chá»‰nh sá»­a           â”‚
â”‚  â€¢ PhÃ¹ há»£p: Trong giá» lÃ m viá»‡c                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Cháº¿ Ä‘á»™ 3: CHá»ˆ THÃ”NG BÃO                            â”‚
â”‚  â€¢ AI KHÃ”NG tá»± Ä‘á»™ng tráº£ lá»i                          â”‚
â”‚  â€¢ Chá»‰ phÃ¢n tÃ­ch vÃ  thÃ´ng bÃ¡o                       â”‚
â”‚  â€¢ PhÃ¹ há»£p: Khi muá»‘n tá»± tráº£ lá»i                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**VÃ­ dá»¥ luá»“ng hoáº¡t Ä‘á»™ng:**

```
1. KhÃ¡ch hÃ ng: "Shop Æ¡i, Ã¡o thun size M cÃ²n khÃ´ng?"
   
2. AI phÃ¢n tÃ­ch â†’ TÃ¬m trong database
   
3. Dashboard thÃ´ng bÃ¡o: ğŸ”” Tin nháº¯n má»›i tá»« Nguyá»…n VÄƒn A
   
4. AI gá»£i Ã½: 
   "Dáº¡ shop cÃ²n áº¡. Ão thun size M cÃ³ 3 mÃ u:
   - Tráº¯ng: 150k
   - Äen: 150k  
   - Xanh navy: 150k
   Anh/chá»‹ muá»‘n Ä‘áº·t mÃ u nÃ o áº¡?"
   
5. [Cháº¿ Ä‘á»™ tá»± Ä‘á»™ng] â†’ Gá»­i ngay
   [Cháº¿ Ä‘á»™ gá»£i Ã½] â†’ Hiá»ƒn thá»‹ nÃºt "Gá»­i" hoáº·c "Chá»‰nh sá»­a"
```

**TÃ­nh nÄƒng báº£o máº­t:**

- ğŸ”’ **MÃ£ hÃ³a end-to-end**: Session Ä‘Æ°á»£c mÃ£ hÃ³a
- ğŸ” **Token refresh**: Tá»± Ä‘á»™ng lÃ m má»›i phiÃªn Ä‘Äƒng nháº­p
- ğŸšª **Logout tá»« xa**: ÄÄƒng xuáº¥t tá»« Dashboard báº¥t cá»© lÃºc nÃ o
- ğŸ“± **ThÃ´ng bÃ¡o**: Nháº­n thÃ´ng bÃ¡o khi cÃ³ ngÆ°á»i Ä‘Äƒng nháº­p
- â° **Session timeout**: Tá»± Ä‘á»™ng Ä‘Äƒng xuáº¥t sau 7 ngÃ y khÃ´ng dÃ¹ng

**Lá»£i Ã­ch:**

- âœ… KhÃ´ng cáº§n Ä‘Äƒng kÃ½ Zalo OA (tiáº¿t kiá»‡m chi phÃ­)
- âœ… DÃ¹ng ngay tÃ i khoáº£n Zalo hiá»‡n cÃ³
- âœ… KhÃ¡ch hÃ ng quen thuá»™c vá»›i tÃ i khoáº£n
- âœ… Linh hoáº¡t chuyá»ƒn Ä‘á»•i cháº¿ Ä‘á»™ tá»± Ä‘á»™ng/thá»§ cÃ´ng
- âœ… AI há»c tá»« cÃ¡ch báº¡n tráº£ lá»i

---

## ğŸ“š API Documentation

### Base URL
```
http://localhost:8088/api/v1
```

### Authentication

Táº¥t cáº£ API (trá»« login/register) yÃªu cáº§u JWT token trong header:

```
Authorization: Bearer <your_jwt_token>
```

**JWT Token chá»©a thÃ´ng tin vai trÃ²:**
- `role`: ADMIN / BUSINESS / CUSTOMER
- `businessId`: ID cá»§a doanh nghiá»‡p (vá»›i BUSINESS role)
- `permissions`: Danh sÃ¡ch quyá»n cá»¥ thá»ƒ

**Prefix routes theo role:**
- `/admin/*` - Chá»‰ ADMIN
- `/business/*` - Chá»‰ BUSINESS  
- `/customer/*` - Chá»‰ CUSTOMER
- `/public/*` - KhÃ´ng cáº§n Ä‘Äƒng nháº­p

### Endpoints

#### **Authentication**

**Register (Business):**
```http
POST /auth/register/business
Content-Type: application/json

{
  "businessName": "Cá»­a hÃ ng ABC",
  "email": "admin@abc.com",
  "password": "Password123",
  "phone": "0901234567",
  "address": "123 ÄÆ°á»ng ABC, Quáº­n 1, TP.HCM"
}

Response: 201 Created
{
  "id": 1,
  "businessName": "Cá»­a hÃ ng ABC",
  "email": "admin@abc.com",
  "role": "BUSINESS",
  "businessId": 1,
  "token": "eyJhbGciOiJIUzI1NiIs..."
}
```

**Register (Customer):**
```http
POST /auth/register/customer
Content-Type: application/json

{
  "name": "Nguyá»…n VÄƒn A",
  "email": "customer@example.com",
  "password": "Password123",
  "phone": "0912345678"
}

Response: 201 Created
{
  "id": 101,
  "name": "Nguyá»…n VÄƒn A",
  "email": "customer@example.com",
  "role": "CUSTOMER",
  "token": "eyJhbGciOiJIUzI1NiIs..."
}
```

**Login:**
```http
POST /auth/login
Content-Type: application/json

{
  "email": "admin@abc.com",
  "password": "Password123"
}

Response: 200 OK
{
  "token": "eyJhbGciOiJIUzI1NiIs...",
  "expiresIn": 86400,
  "user": {
    "id": 1,
    "email": "admin@abc.com",
    "role": "BUSINESS",
    "businessId": 1,
    "businessName": "Cá»­a hÃ ng ABC"
  }
}
```

#### **Chatbot**

```http
POST /chatbot/message
Authorization: Bearer <token>
Content-Type: application/json

{
  "message": "TÃ´i muá»‘n mua iPhone 15",
  "userId": "customer_123",
  "channel": "website"  // hoáº·c "zalo"
}

Response: 200 OK
{
  "reply": "Dáº¡, em cÃ³ thÃ´ng tin sáº£n pháº©m iPhone 15 nhÆ° sau...",
  "intent": "product_inquiry",
  "entities": ["iPhone 15"],
  "actions": ["show_product"],
  "products": [
    {
      "id": 1,
      "name": "iPhone 15 Pro Max 256GB",
      "price": 29990000,
      "stock": 50
    }
  ]
}
```

#### **Zalo OA Webhook**

```http
POST /webhook/zalo/oa
Content-Type: application/json

{
  "event_name": "user_send_text",
  "timestamp": 1735171200000,
  "message": {
    "text": "TÃ´i muá»‘n mua iPhone 15",
    "msg_id": "abc123"
  },
  "sender": {
    "id": "1234567890"
  },
  "recipient": {
    "id": "YOUR_OA_ID"
  }
}

Response: 200 OK
{
  "status": "success"
}
```

#### **Zalo Personal Account**

**Login via QR Code:**
```http
POST /zalo/personal/generate-qr
Authorization: Bearer <token>

Response: 200 OK
{
  "qrCode": "data:image/png;base64,iVBORw0KGgo...",
  "qrCodeUrl": "http://localhost:3008/qr/abc123",
  "sessionId": "session_abc123",
  "expiresIn": 300  // 5 phÃºt
}
```

**Check Login Status:**
```http
GET /zalo/personal/login-status/{sessionId}
Authorization: Bearer <token>

Response: 200 OK
{
  "status": "logged_in",  // hoáº·c "waiting", "expired"
  "accountInfo": {
    "name": "Cá»­a hÃ ng ABC",
    "phone": "0901234567",
    "avatar": "https://...",
    "userId": "zalo_user_123"
  }
}
```

**Configure AI Settings:**
```http
PUT /zalo/personal/config
Authorization: Bearer <token>
Content-Type: application/json

{
  "mode": "suggestion",  // "auto", "suggestion", "notification"
  "autoReply": true,
  "useRAG": true,
  "autoCreateOrder": true,
  "workingHours": {
    "enabled": true,
    "start": "08:00",
    "end": "22:00"
  }
}

Response: 200 OK
{
  "status": "success",
  "config": { ... }
}
```

**Get Conversations:**
```http
GET /zalo/personal/conversations
Authorization: Bearer <token>
Query: ?page=1&limit=20&status=unread

Response: 200 OK
{
  "conversations": [
    {
      "id": "conv_123",
      "contact": {
        "name": "Nguyá»…n VÄƒn A",
        "phone": "0912345678",
        "avatar": "https://..."
      },
      "lastMessage": {
        "text": "Cáº£m Æ¡n shop",
        "timestamp": 1735171200000,
        "fromMe": false
      },
      "unreadCount": 2,
      "aiHandled": true
    }
  ],
  "total": 45,
  "page": 1
}
```

**Send Message (Manual or AI Suggested):**
```http
POST /zalo/personal/send-message
Authorization: Bearer <token>
Content-Type: application/json

{
  "conversationId": "conv_123",
  "message": "Dáº¡ shop Ä‘ang xá»­ lÃ½ Ä‘Æ¡n hÃ ng cho anh áº¡",
  "isAISuggestion": false
}

Response: 200 OK
{
  "messageId": "msg_456",
  "status": "sent",
  "timestamp": 1735171300000
}
```

#### **Customers (Business only)**

```http
GET /business/customers
Authorization: Bearer <token>  # BUSINESS role required

Response: 200 OK
{
  "data": [
    {
      "id": 1,
      "name": "Nguyá»…n VÄƒn A",
      "email": "nguyenvana@email.com",
      "phone": "0901234567",
      "totalOrders": 5,
      "totalSpent": 15000000,
      "segment": "VIP",
      "businessId": 1  # Chá»‰ khÃ¡ch hÃ ng cá»§a business nÃ y
    }
  ],
  "total": 150,
  "page": 1,
  "pageSize": 20
}
```

#### **Products (Business only)**

```http
GET /business/products
Authorization: Bearer <token>  # BUSINESS role required

Response: 200 OK
{
  "data": [
    {
      "id": 1,
      "name": "iPhone 15 Pro Max 256GB",
      "price": 29990000,
      "stock": 50,
      "sold": 120,
      "category": "Äiá»‡n thoáº¡i",
      "businessId": 1  # Chá»‰ sáº£n pháº©m cá»§a business nÃ y
    }
  ]
}
```

#### **Orders**

**Business - Táº¡o Ä‘Æ¡n hÃ ng:**
```http
POST /business/orders
Authorization: Bearer <token>  # BUSINESS role required
Content-Type: application/json

{
  "customerId": 1,
  "items": [
    {
      "productId": 1,
      "quantity": 1,
      "price": 29990000
    }
  ],
  "totalAmount": 29990000,
  "paymentMethod": "COD"
}

Response: 201 Created
{
  "orderId": 123,
  "orderCode": "ORD20250101001",
  "status": "pending",
  "totalAmount": 29990000,
  "businessId": 1
}
```

**Customer - Xem Ä‘Æ¡n hÃ ng cá»§a mÃ¬nh:**
```http
GET /customer/orders
Authorization: Bearer <token>  # CUSTOMER role required

Response: 200 OK
{
  "data": [
    {
      "orderId": 123,
      "orderCode": "ORD20250101001",
      "status": "pending",
      "totalAmount": 29990000,
      "createdAt": "2025-01-01T10:00:00Z",
      "items": [...]
    }
  ]
}
```

#### **Analytics & AI Insights (Business only)**

```http
GET /business/analytics/insights
Authorization: Bearer <token>  # BUSINESS role required
Query: ?startDate=2025-01-01&endDate=2025-01-31

Response: 200 OK
{
  "businessId": 1,
  "period": {
    "start": "2025-01-01",
    "end": "2025-01-31"
  },
  "revenue": {
    "total": 150000000,
    "trend": "+15%",
    "prediction": 180000000
  },
  "customerSegmentation": {
    "vip": 25,
    "regular": 100,
    "potential": 50
  },
  "recommendations": [
    {
      "type": "marketing",
      "title": "Cháº¡y chiáº¿n dá»‹ch retargeting",
      "description": "25% khÃ¡ch hÃ ng chÆ°a quay láº¡i sau 30 ngÃ y",
      "priority": "high"
    }
  ]
}
```

#### **Admin - System Stats**

```http
GET /admin/stats
Authorization: Bearer <token>  # ADMIN role required

Response: 200 OK
{
  "totalBusinesses": 150,
  "totalCustomers": 15000,
  "totalOrders": 5000,
  "totalRevenue": 2500000000,
  "messagesPerDay": 25000,
  "activeUsers": 8500,
  "systemHealth": "healthy"
}
```

#### **RAG Document Management (Business only)**

```http
POST /business/documents/upload
Authorization: Bearer <token>  # BUSINESS role required
Content-Type: multipart/form-data

file: [binary file data]
category: "policy"
name: "ChÃ­nh sÃ¡ch báº£o hÃ nh 2025"

Response: 201 Created
{
  "documentId": 45,
  "name": "ChÃ­nh sÃ¡ch báº£o hÃ nh 2025",
  "businessId": 1,
  "status": "processing",
  "chunks": 0,
  "message": "Äang xá»­ lÃ½ tÃ i liá»‡u, AI sáº½ há»c tá»« tÃ i liá»‡u nÃ y"
}
```

```http
GET /business/documents
Authorization: Bearer <token>  # BUSINESS role required

Response: 200 OK
{
  "documents": [
    {
      "id": 45,
      "name": "ChÃ­nh sÃ¡ch báº£o hÃ nh 2025",
      "category": "policy",
      "uploadedAt": "2025-01-15T10:30:00Z",
      "chunks": 12,
      "status": "ready",
      "businessId": 1  # Chá»‰ tÃ i liá»‡u cá»§a business nÃ y
    }
  ]
}
```

**Xem full API documentation táº¡i:** `http://localhost:8088/swagger-ui.html`

---

## ğŸ—ºï¸ Roadmap

### âœ… Phase 1: MVP (HoÃ n thÃ nh - Q1 2025)
- [x] Chatbot cÆ¡ báº£n vá»›i Gemini API
- [x] CRM mini (KhÃ¡ch hÃ ng, Sáº£n pháº©m, ÄÆ¡n hÃ ng)
- [x] Dashboard thá»‘ng kÃª
- [x] TÃ­ch há»£p RAG vá»›i vector database
- [x] Authentication & Authorization
- [x] **Role-based Access Control (RBAC)**: Admin / Business / Customer

### ğŸš§ Phase 2: NÃ¢ng cao Ä‘a kÃªnh (Äang phÃ¡t triá»ƒn - Q2 2025)
- [x] TÃ­ch há»£p Zalo OA cÆ¡ báº£n
- [x] Website Chatbot Widget
- [x] **Zalo Personal Account** (QR Code login)
- [ ] **AI Suggestion Mode** (Gá»£i Ã½ + xÃ¡c nháº­n)
- [ ] **Takeover Mode** (Chuyá»ƒn sang nhÃ¢n viÃªn tháº­t)
- [ ] Zalo OA Template Messages
- [ ] Zalo Pay integration
- [ ] Zalo Mini App
- [ ] Push notifications (Website + Zalo)
- [ ] Email marketing automation

### ğŸ”® Phase 3: AI nÃ¢ng cao (Q3 2025)
- [ ] PhÃ¢n tÃ­ch tÃ¢m lÃ½ khÃ¡ch hÃ ng (Sentiment Analysis)
- [ ] Dá»± Ä‘oÃ¡n churn rate
- [ ] Recommendation engine cÃ¡ nhÃ¢n hÃ³a
- [ ] AI voice assistant (Text-to-Speech & Speech-to-Text)
- [ ] Multi-language support
- [ ] Auto-reply thÃ´ng minh theo thá»i gian
- [ ] Chatbot learning tá»« feedback khÃ¡ch hÃ ng

### ğŸš€ Phase 4: Scale & Commercialize (Q4 2025)
- [ ] SaaS multi-tenant architecture
- [ ] Subscription billing system
- [ ] White-label solution (Website Widget + Zalo OA)
- [ ] Advanced analytics with ML models
- [ ] Zalo Mini App nÃ¢ng cao
- [ ] API marketplace & webhooks
- [ ] Widget customization builder (no-code)

---

## ğŸ¤ ÄÃ³ng gÃ³p

ChÃºng tÃ´i ráº¥t hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p tá»« cá»™ng Ä‘á»“ng! 

### CÃ¡ch Ä‘Ã³ng gÃ³p

1. **Fork repository**
2. **Táº¡o branch má»›i**: `git checkout -b feature/TenTinhNang`
3. **Commit changes**: `git commit -m 'Add: ThÃªm tÃ­nh nÄƒng XYZ'`
4. **Push to branch**: `git push origin feature/TenTinhNang`
5. **Táº¡o Pull Request**

### Quy táº¯c Ä‘Ã³ng gÃ³p

- âœ… Code pháº£i follow coding conventions
- âœ… Viáº¿t unit tests cho code má»›i
- âœ… Update documentation náº¿u cáº§n
- âœ… Commit message rÃµ rÃ ng vÃ  mÃ´ táº£ Ä‘áº§y Ä‘á»§
- âœ… Pull request pháº£i pass CI/CD checks

### BÃ¡o lá»—i (Bug Report)

Náº¿u báº¡n phÃ¡t hiá»‡n lá»—i, vui lÃ²ng táº¡o issue vá»›i thÃ´ng tin:
- MÃ´ táº£ lá»—i chi tiáº¿t
- CÃ¡c bÆ°á»›c tÃ¡i hiá»‡n (steps to reproduce)
- Expected behavior vs Actual behavior
- Screenshots (náº¿u cÃ³)
- Environment (OS, Browser, versions...)

---

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¢n phá»‘i dÆ°á»›i giáº¥y phÃ©p **MIT License**.

```
MIT License

Copyright (c) 2025 AI Agent for Business

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

Xem chi tiáº¿t táº¡i [LICENSE](./LICENSE)

---

## ğŸ“ LiÃªn há»‡

### ğŸ‘¨â€ğŸ’» TÃ¡c giáº£

**Your Name**
- ğŸ“§ Email: your.email@example.com
- ğŸ™ GitHub: [@yourusername](https://github.com/yourusername)
- ğŸ’¼ LinkedIn: [Your Name](https://linkedin.com/in/yourprofile)
- ğŸŒ Website: [yourwebsite.com](https://yourwebsite.com)

### ğŸ¢ Tá»• chá»©c

**AI Agent for Business Team**
- ğŸ“§ Email: contact@aiagent.business
- ğŸŒ Website: https://aiagent.business
- ğŸ“± Hotline: +84 901 234 567

### ğŸ’¬ Cá»™ng Ä‘á»“ng

- ğŸ’¬ **Telegram Group**: [Join our community](https://t.me/ai_agent_business)
- ğŸ’¡ **Discord Server**: [Join Discord](https://discord.gg/aiagent)
- ğŸ“š **Documentation**: [docs.aiagent.business](https://docs.aiagent.business)
- â“ **Q&A Forum**: [GitHub Discussions](https://github.com/yourusername/AI-Agent-for-Business/discussions)

---

## ğŸ™ Acknowledgments

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i sá»± há»— trá»£ cá»§a:

- [Google Gemini API](https://ai.google.dev/) - AI Language Model
- [Spring Boot](https://spring.io/projects/spring-boot) - Backend Framework
- [Next.js](https://nextjs.org/) - React Framework with SSR/SSG
- [LangChain](https://www.langchain.com/) - RAG Framework
- [Pinecone](https://www.pinecone.io/) - Vector Database
- [TailwindCSS](https://tailwindcss.com/) - CSS Framework
- [Shadcn/ui](https://ui.shadcn.com/) - Component Library
- VÃ  nhiá»u open-source libraries khÃ¡c

Cáº£m Æ¡n táº¥t cáº£ contributors Ä‘Ã£ Ä‘Ã³ng gÃ³p vÃ o dá»± Ã¡n! ğŸ‰

---

## ğŸ“Š Project Stats

![GitHub stars](https://img.shields.io/github/stars/yourusername/AI-Agent-for-Business?style=social)
![GitHub forks](https://img.shields.io/github/forks/yourusername/AI-Agent-for-Business?style=social)
![GitHub issues](https://img.shields.io/github/issues/yourusername/AI-Agent-for-Business)
![GitHub pull requests](https://img.shields.io/github/issues-pr/yourusername/AI-Agent-for-Business)
![GitHub last commit](https://img.shields.io/github/last-commit/yourusername/AI-Agent-for-Business)
![GitHub contributors](https://img.shields.io/github/contributors/yourusername/AI-Agent-for-Business)

---

<div align="center">

**â­ Náº¿u báº¡n tháº¥y dá»± Ã¡n há»¯u Ã­ch, Ä‘á»«ng quÃªn cho chÃºng tÃ´i má»™t ngÃ´i sao nhÃ©! â­**

Made with â¤ï¸ by AI Agent for Business Team

</div>
